<div class="container">
  <div class="card">
    <div class="mt-3">
      <h3 class="card-header text-center bg-dark text-light">
        Airline-management
      </h3>
    </div>
    <div class="card-body">
      <div class="container bg-light mb-3">
        <div class="col-md-12 text-center">
          <button class="btn btn-secondary m-sm-1" (click)="getAirlines()">
            Get All Airlines
          </button>
          <button class="btn btn-secondary m-sm-1" (click)="addAirline()">
            Add Airline
          </button>
        </div>
      </div>

      <div
        class="container container-md justify-content-center"
        *ngIf="showAirlines"
      >
        <table class="table table-bordered">
          <thead class="table-success text-center border-success">
            <tr>
              <th>Airline ID</th>
              <th>Airline Name</th>
              <th>Contact Address</th>
              <th>Contact Number</th>
              <th>Active</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <tr *ngFor="let airline of allAirlines">
              <td>{{ airline.airlineId }}</td>
              <td>{{ airline.airlineName }}</td>
              <td>{{ airline.contactAddress }}</td>
              <td>{{ airline.contactNumber }}</td>
              <td>{{ airline.isActive }}</td>
            </tr>
          </tbody>
        </table>
        <div
          class="row g-2 d-flex align-items-sm-center justify-content-sm-center"
        >
          <div class="col-auto">
            <input
              #blockAirline
              type="number"
              id="blockAirlineId"
              placeholder="Airline Id.."
              class="form-control border-dark form-control-sm"
            />
          </div>
          <div class="col-auto">
            <button
              class="btn btn-outline-dark btn-sm"
              (click)="blockAirlineWithId(blockAirline.value)"
            >
              Block / Unblock Airline
            </button>
          </div>
          <div class="col-auto">
            <button
              class="btn btn-outline-danger btn-sm"
              (click)="deleteAirlineWithId(blockAirline.value)"
            >
              Delete Airline
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="h-100 d-flex align-items-center justify-content-center text-center mt-2"
  >
    <p class="alert alert-success" *ngIf="showMessage">
      {{ message }}
    </p>
    <p class="alert alert-danger" *ngIf="showErrorMessage">
      {{ message }}
    </p>
  </div>
  <div
    class="card mt-3 m-lg-auto border-black"
    style="width: 600px"
    *ngIf="showAddAirline"
  >
    <h4 class="card-header bg-dark text-white text-center">Add Airline</h4>
    <div class="card-body">
      <form [formGroup]="airlineRegForm" (ngSubmit)="onAddAirlineSubmit()">
        <div class="col-md-12">
          <div class="form-group">
            <label for="airlineName" class="sr-only"
              ><strong>Airline Name</strong></label
            >
            <input
              type="text"
              class="form-control"
              formControlName="airlineName"
              value=""
            />
          </div>
        </div>
        <div
          *ngIf="
            airlineRegForm.controls['airlineName'].invalid &&
            (airlineRegForm.controls['airlineName'].dirty ||
              airlineRegForm.controls['airlineName'].touched)
          "
          class="text-danger"
        >
          <div *ngIf="airlineRegForm.controls['airlineName'].errors">
            Airline name is required.
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="contactAddress" class="sr-only"
              ><strong>Contact Address</strong></label
            >
            <input
              type="text"
              class="form-control"
              formControlName="contactAddress"
              value=""
            />
          </div>
        </div>
        <div
          *ngIf="
            airlineRegForm.controls['contactAddress'].invalid &&
            (airlineRegForm.controls['contactAddress'].dirty ||
              airlineRegForm.controls['contactAddress'].touched)
          "
          class="text-danger"
        >
          <div *ngIf="airlineRegForm.controls['contactAddress'].errors">
            Contact address is required.
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="contactNumber" class="sr-only"
              ><strong>Contact Number</strong></label
            >
            <input
              type="number"
              class="form-control"
              formControlName="contactNumber"
              maxlength="10"
              value=""
            />
          </div>
        </div>
        <div
          *ngIf="
            airlineRegForm.controls['contactNumber'].invalid &&
            (airlineRegForm.controls['contactNumber'].dirty ||
              airlineRegForm.controls['contactNumber'].touched)
          "
          class="text-danger"
        >
          <div *ngIf="airlineRegForm.controls['contactNumber'].errors">
            Contact number is required.
          </div>
        </div>
        <div class="col-md-12">
          <div class="form-group">
            <label for="contactLogo" class="sr-only"
              ><strong>Logo</strong></label
            >
            <input
              type="text"
              class="form-control"
              formControlName="contactLogo"
              value=""
            />
          </div>
        </div>
        <div
          *ngIf="
            airlineRegForm.controls['contactLogo'].invalid &&
            (airlineRegForm.controls['contactLogo'].dirty ||
              airlineRegForm.controls['contactLogo'].touched)
          "
          class="text-danger"
        >
          <div *ngIf="airlineRegForm.controls['contactLogo'].errors">
            Logo is required.
          </div>
        </div>
        <div class="form-group text-center">
          <input type="submit" class="btn btn-success mt-1" value="Submit" />
        </div>
      </form>
    </div>
  </div>
</div>
